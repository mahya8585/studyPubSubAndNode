<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Subページ</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      $(function() {
        var socket = io.connect();

        //emitで送信されたデータを処理する
        socket.on('msg', function(data, fn) {
          var msgp = document.createElement('p');
          msgp.innerHTML = data.msg;
          $('#messageArea').append(msgp);
        });

        //publish
        $("#publisher").click(function(){
            alert('publishします');
            socket.emit('publisher', 'FROM html');
            alert('publish完了');
        });
      });
    </script>
</head>
<body>

<h1>subテスト</h1>
<input type="button" value="publish" id="publisher">
<div id="messageArea"></div>

</body>
</html>